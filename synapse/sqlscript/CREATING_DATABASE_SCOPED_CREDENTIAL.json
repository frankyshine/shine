{
	"name": "CREATING_DATABASE_SCOPED_CREDENTIAL",
	"properties": {
		"folder": {
			"name": "Synapse SQL/Serverless SQL Pools"
		},
		"content": {
			"query": "--CREATING DATABASE SCOPED CREDENTIAL (Transact-SQL)\n-- *****************************************************\n\n-- A. Creating a database scoped credential for your application\n/*\nThe following example creates the database scoped credential called AppCred. \nThe database scoped credential contains the Windows user Mary5 and a password.\n*/\n-- Create a db master key if one does not already exist, using your own password.\nCREATE MASTER KEY ENCRYPTION BY PASSWORD='<EnterStrongPasswordHere>';\n\n-- Create a database scoped credential.\nCREATE DATABASE SCOPED CREDENTIAL AppCred \nWITH IDENTITY = 'Mary5',\n    SECRET = '<EnterStrongPasswordHere>';\n\n\n -- B. Creating a database scoped credential for a shared access signature\n /*\nThe following example creates a database scoped credential that can be used to create an external \ndata source, which can do bulk operations, such as BULK INSERT and OPENROWSET. \nShared Access Signatures cannot be used with PolyBase in SQL Server, APS or Azure Synapse Analytics.\n*/\n-- Create a db master key if one does not already exist, using your own password.\nCREATE MASTER KEY ENCRYPTION BY PASSWORD='<EnterStrongPasswordHere>';\n\n-- Create a database scoped credential.\nCREATE DATABASE SCOPED CREDENTIAL MyCredentials\nWITH IDENTITY = 'SHARED ACCESS SIGNATURE',\nSECRET = 'QLYMgmSXMklt%2FI1U6DcVrQixnlU5Sgbtk1qDRakUBGs%3D';\n\n\n-- C. Creating a database scoped credential for PolyBase Connectivity to Azure Data Lake Store\n/*\nThe following example creates a database scoped credential that can be used to create an external\n data source, which can be used by PolyBase in Azure Synapse Analytics.\n\nAzure Data Lake Store uses an Azure Active Directory Application for Service to Service Authentication. \nPlease create an Azure AD application and document your client_id, OAuth_2.0_Token_EndPoint, \nand Key before you try to create a database scoped credential.\n*/\n\n-- Create a db master key if one does not already exist, using your own password.\nCREATE MASTER KEY ENCRYPTION BY PASSWORD='<EnterStrongPasswordHere>';\n\n-- Create a database scoped credential.\nCREATE DATABASE SCOPED CREDENTIAL ADL_User\nWITH\n    IDENTITY = '<client_id>@<OAuth_2.0_Token_EndPoint>',\n    SECRET = '<key>'\n;",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "sqlSrvlesslogicaldw",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}